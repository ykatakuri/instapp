<div class="container">
  <h1>Discussion</h1>

  <div class="chat" *ngIf="chat">
    <div class="chat" *ngFor="let message of chat.messages">

        <div class="message">
          <label class="sender">{{ message.sender | getUser | async }}</label><br>
          <label class="message-content">{{ message.content }} </label> <br>
          <label class="message-timestamp">{{ message.sentAt.toDate().toLocaleString() }}</label>
        </div>

        <div class="button menu">
          <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button (click)="deleteMessage(message.sentAt)" mat-menu-item>Supprimer</button>
            <button (click)="updateMessage(message.sentAt)" mat-menu-item>Modifier</button>
          </mat-menu>
        </div>


    </div>
  </div>

    <textarea [(ngModel)]="message" id="" cols="30" rows="10" placeholder="Type your message ...">

    </textarea>
    <button (click)="sendMessage()" type="submit" mat-raised-buttoncolor="primary">
      Send message
    </button>

</div>


