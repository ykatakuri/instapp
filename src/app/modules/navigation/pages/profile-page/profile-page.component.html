<mat-card class="example-card">
  <mat-card-header>
    <img mat-card-avatar src="{{currentUser.picture}}" alt="Photo of a Shiba Inu">
    <mat-card-title>{{currentUser.firstname}}</mat-card-title>
    <mat-card-subtitle>{{currentUser.lastname}}</mat-card-subtitle>
    <button (click)="logOut()">Log out</button>
  </mat-card-header>

  <mat-card-content>
    <p>{{currentUser.email}}</p>
  </mat-card-content>

  <mat-card-actions>
    <qrcode [qrdata]="myAngularQrCodeData" [width]="64" [errorCorrectionLevel]="'M'" [allowEmptyString]="true"></qrcode>

    <div class="container">
      <ngx-scanner-qrcode #action="scanner" [config]="config" (error)="onError($event)" (event)="fetchUserById(action.data.value)"></ngx-scanner-qrcode>
      <p class="data">{{ action.data | async }}</p>
      <p *ngIf="action.isLoading">âŒ› Loading...</p>
      <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading">
        <img *ngIf="!action.isStart" (click)="handle(action, 'start')" src="https://img.icons8.com/ios/50/000000/no-camera--v2.png" width="30px"/>
        <img *ngIf="action.isStart" (click)="handle(action, 'stop')" src="https://img.icons8.com/ios/50/000000/no-camera--v1.png" width="30px"/>
      </button>
    </div>
  </mat-card-actions>

</mat-card>

<div class="post-container" *ngFor="let p of ownPosts">
  <mat-card class="home-post-card">
    <mat-card-header>
        <div mat-card-avatar class="user-avatar"></div>
        <mat-card-title>{{p.title}}</mat-card-title>
        <mat-card-subtitle>{{p.description}}</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image src="{{p.picture}}"
        alt="Photo of a Shiba Inu">
    <mat-card-content>
        <p>{{p.date.toDate().toLocaleString()}}</p>
    </mat-card-content>
    <mat-card-actions>
        <button mat-icon-button>
            <mat-icon>favorite</mat-icon>
        </button>
        <span>20</span>
        <button mat-icon-button>
            <mat-icon>comment</mat-icon>
        </button>
        <button mat-icon-button>
            <mat-icon>share</mat-icon>
        </button>
    </mat-card-actions>
</mat-card>
</div>

<app-navbar></app-navbar>
