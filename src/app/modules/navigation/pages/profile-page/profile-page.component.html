<cdk-virtual-scroll-viewport appendOnly itemSize="50" class="profile-page-viewport">
    <app-appbar></app-appbar>

    <div class="user-stats-container">
        <div fxLayout="row" fxLayoutAlign="space-evenly center">
            <ng-container *ngIf="currentUser$|async as user">
                <div class="user-infos-container" fxLayout="column" fxLayoutAlign="center center">
                    <div class="user-photo-container">
                        <img [src]="user.photoURL" [alt]="user.fullname" class="avatar">
                    </div>
                    <div class="username-container">{{ user.fullname }}</div>
                </div>
            </ng-container>

            <ng-container *ngIf="currentUserPosts$|async as posts">
                <mat-card class="posts-count-container" fxLayout="column" fxLayoutAlign="center center">
                    <mat-card-header>
                        <mat-card-title>{{ posts.length }}</mat-card-title>
                        <mat-card-subtitle>Publications</mat-card-subtitle>
                    </mat-card-header>
                </mat-card>
            </ng-container>

            <mat-card class="friends-count-container" fxLayout="column" fxLayoutAlign="center center">
                <mat-card-header>
                    <mat-card-title>{{ friendsCount }}</mat-card-title>
                    <mat-card-subtitle>Amis</mat-card-subtitle>
                </mat-card-header>
            </mat-card>
        </div>
    </div>

    <mat-card class="menu-card">
        <mat-list>
            <a type="button" (click)="onPersonalInformation()">
                <mat-list-item>Informations Personnelles</mat-list-item>
            </a>
            <mat-divider></mat-divider>
            <a type="button" (click)="onInvitFriends()">
                <mat-list-item>Inviter Des Amis</mat-list-item>
            </a>

        </mat-list>
    </mat-card>

    <mat-card class="post-card">
        <mat-grid-list cols="3" rowHeight="150px">
            <mat-grid-tile *ngFor="let post of currentUserPosts$|async">
                <img [src]="post.imageUrl" [alt]="post.title" (click)="getPost(post.id)">
            </mat-grid-tile>
        </mat-grid-list>
    </mat-card>

</cdk-virtual-scroll-viewport>

<div class="utility-spacer"></div>

<app-navbar></app-navbar>
